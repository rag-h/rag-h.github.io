<!DOCTYPE html>
<html>
<head>
<title>Week3_Lecture1.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="application-layer-dns-p2p-video-streaming-and-cdn">Application Layer (DNS, P2P, Video Streaming and CDN)</h1>
<h3 id="dns">DNS</h3>
<p>Humans can be identified by many ways, our names, our social security numbers, driver's license number etc. Just like how humans can be identified in many ways, so can Internet Hosts. (Hostname e.g. = www.yahoo.com).</p>
<ul>
<li>Hostnames provide little information about the location of the host.</li>
<li>Hosts are also identified by so-called IP addresses, as routers do not understand the hostname string.</li>
<li>A DNS (domain name system), is essentially a directory service which translates host names into IP addresses.</li>
<li>It is implemented in a hierarchy of many name servers</li>
<li>Application-Layer protocol: Hosts, name servers communicate to resolve names</li>
<li>As end users we don't directly interact with DNS, but all the applications that we use, do.</li>
<li>Procedure:
<ul>
<li>Client wants to send a HTTP request message to a web server</li>
<li>User's host must first obtain the IP address of that website</li>
<li>The same user machine runs the client side of the DNS application</li>
<li>The browser extracts the hostname, from the url and passes the hostname to the client side of the DNS application</li>
<li>The DNS client sends a query containing the hostname to a DNS server</li>
<li>The DNS client eventually receives a reply, which includes the IP address for the hostname</li>
<li>Once the browser receives the IP address from the DNS, it can initiate a TCP connection to the HTTP server process located at port 80 and that IP address.</li>
</ul>
</li>
<li>No centralised DNS:
<ul>
<li>Single point of failure</li>
<li>Traffic volume (so many queries)</li>
<li>Where do we place a single entity in the globe?</li>
<li>maintenance</li>
</ul>
</li>
<li>goals:
<ul>
<li>No naming conflicts, can't have same hostnames</li>
<li>distributed, autonomous administration.
<ul>
<li>ability to update my own domain names</li>
<li>Don't want to track everybody's updates.</li>
</ul>
</li>
<li>highly available</li>
</ul>
</li>
</ul>
<h3 id="hierarchy">Hierarchy</h3>
<ul>
<li>Hierarchical namespace
<ul>
<li>top level domains are at the top</li>
<li>Domains are subtrees</li>
<li>Name is leaf to root path</li>
<li>instr.eecs.berkeley.edu -&gt; this is a tree. first we go to the leaf instr then to the node eecs.... till we reach the root at edu</li>
</ul>
</li>
<li>Hierarchically administered
<ul>
<li>A zone corresponds to a distinct contiguous portion of the DNS name space that is managed by a particular administrative authority. Like each of the namespaces could be within different zones, and each of those zones are managed by different people.</li>
</ul>
</li>
<li>Distributed hierarchy of servers
<ul>
<li>Top of the hierarchy: Root servers. The location is hardwired into other servers.</li>
<li>Next Level: Top level domains (TLD) servers
<ul>
<li>.com, .edu,  and these are managed professionally</li>
</ul>
</li>
<li>Bottom Level: Authoritative DNS
<ul>
<li>Store the name to address mapping</li>
<li>Maintained by the corresponding administrative authority (Service provider or an organisation)</li>
<li>These store the resource records for all DNS names in the domain that it has authority for.</li>
</ul>
</li>
</ul>
</li>
<li>Each server can discover the servers that are responsible for the portions of the hierarchy
<ul>
<li>Everyone knows who the root is</li>
<li>Root servers know about all the Top level Domains.</li>
</ul>
</li>
<li>There used to be 13 root physical servers. They were then scaled because they worried about them going down. These physical servers are replicated all over the world. Here in Australia we have 25 root servers. The servers in Australia are numbered A - N. They all have the same IP address. For example all 'A' servers have the same IP address, all 'B' servers have the same IP address. Here anycasting is exploited, whereby if anyone has server 'A' as their destination, the routers along the way will direct the request to the closest 'A' server.</li>
<li>When a host makes a DNS query, the query is set to it's local DNS server.
<ul>
<li>The server has a cache of recent-name-to-address translation pairs</li>
<li>Acts as a proxy, forwards a query into the hierarchy</li>
<li>What this means is that if local DNS server cannot perform the translation, it sends the request to a root DNS server. The root server will send an IP address back to the local DNS regarding which server to contact and etc...</li>
</ul>
</li>
<li>The root server does not support recursive queries as it put a burden on it due to how many requests that it gets.</li>
</ul>
<h3 id="dns-records">DNS Records</h3>
<ul>
<li>Resource Records have the following format (name,value,type,ttl)</li>
<li>Basically when a request is made for a translation to a DNS they can take one these forms</li>
<li>Type A
<ul>
<li>Name is Hostname</li>
<li>Value is IP address</li>
</ul>
</li>
<li>Type NS:
<ul>
<li>Name is domain</li>
<li>value is hostname of authoritative name server for this domain</li>
</ul>
</li>
<li>Type CNAME:
<ul>
<li>name is alias name for some canonical (www.ibm.com is actually servereast.backup2.ibm.com)</li>
<li>value  is canonical name</li>
</ul>
</li>
<li>Type = MX
<ul>
<li>value is the name of the mailserver associated with that name</li>
</ul>
</li>
</ul>
<h3 id="dns-protocolmessages">DNS protocol.messages</h3>
<ul>
<li>
<p>query and reply messages have the same message formatt</p>
</li>
<li>
<p>msg header</p>
<ul>
<li>id: 16# (a query will have a particular number and the response to this query uses the same id)</li>
<li>flags to indicate:
<ul>
<li>query or reply</li>
<li>recursion desirable</li>
<li>recursion available</li>
<li>reply is authoritative</li>
</ul>
</li>
<li>has number of questions if it is a query or answers if it is a response</li>
<li>contains name, type fields, RR's</li>
<li>records for authoritative servers</li>
</ul>
</li>
<li>
<p>Image of response from a dig
<img src="file:///c:/uni/rag-h.github.io/blog/COMP3331/images/dig_oxford.png" alt="">
From the image:</p>
</li>
<li>
<p>We are requesting for a type A record</p>
</li>
<li>
<p>The answer has four values which are separate resource records. There are 4 actual webservers for oxford.</p>
</li>
<li></li>
</ul>

</body>
</html>
